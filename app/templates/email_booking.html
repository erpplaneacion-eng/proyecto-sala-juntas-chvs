<!DOCTYPE html>
<html>
<head>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #333; line-height: 1.6; }
        .container { max-width: 600px; margin: 20px auto; border: 1px solid #e0e0e0; border-radius: 10px; overflow: hidden; }
        .header { background: linear-gradient(135deg, #62B33E 0%, #4d9030 100%); color: white; padding: 25px; text-align: center; }
        .content { padding: 30px; background-color: #ffffff; }
        .footer { background-color: #f9fafb; padding: 15px; text-align: center; font-size: 12px; color: #6b7280; }
        .details { background-color: #f3f4f6; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .detail-item { margin-bottom: 10px; border-bottom: 1px solid #e5e7eb; padding-bottom: 5px; }
        .detail-item:last-child { border-bottom: none; margin-bottom: 0; padding-bottom: 0; }
        .detail-label { font-weight: bold; color: #4d9030; display: inline-block; width: 130px; }
        .status-badge { background-color: #dcf5d0; color: #2d6e14; padding: 4px 12px; border-radius: 9999px; font-weight: bold; font-size: 14px; }
        .cancel-section { margin-top: 24px; padding: 18px 20px; background: #fff8f8; border-radius: 8px; border: 1px solid #fdd; }
        .cancel-btn { display: inline-block; background: #e53e3e; color: white; padding: 11px 24px; border-radius: 7px; text-decoration: none; font-weight: bold; font-size: 14px; margin-top: 10px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2 style="margin:0;">¡Reserva Confirmada!</h2>
            <p style="margin:5px 0 0 0; opacity: 0.9;">Corporación Hacia un Valle Solidario</p>
        </div>
        <div class="content">
            <p>Hola <strong>{{ user_name }}</strong>,</p>
            <p>Tu solicitud de reserva ha sido procesada exitosamente. A continuación los detalles de tu reunión:</p>

            <div class="details">
                <div class="detail-item">
                    <span class="detail-label">Estado:</span> <span class="status-badge">Confirmada</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Sala:</span> <span>{{ room_name }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Fecha:</span> <span>{{ booking_date }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Horario:</span> <span>{{ start_time }} - {{ end_time }}</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Área:</span> <span>{{ area }}</span>
                </div>
                {% if attendees %}
                <div class="detail-item">
                    <span class="detail-label">Asistentes:</span> <span>{{ attendees }} persona(s)</span>
                </div>
                {% endif %}
            </div>

            <p><strong>Nota importante:</strong> Por favor, asegúrate de dejar la sala en orden y apagar los equipos al finalizar.</p>

            {% if cancel_url %}
            <div class="cancel-section">
                <p style="margin:0 0 6px 0; font-weight:600; color:#c53030;">¿Necesitas cancelar tu reserva?</p>
                <p style="margin:0 0 10px 0; font-size:13px; color:#6b7280;">
                    Usa el siguiente enlace para cancelarla. El enlace es válido por <strong>48 horas</strong> y solo puede usarse una vez.
                </p>
                <a href="{{ cancel_url }}" class="cancel-btn">Cancelar mi reserva</a>
                <p style="margin:12px 0 0 0; font-size:11px; color:#9ca3af;">
                    Si no puedes hacer clic, copia este enlace en tu navegador:<br>{{ cancel_url }}
                </p>
            </div>
            {% endif %}
        </div>
        <div class="footer">
            © 2026 CHVS - Sistema de Gestión de Espacios Corporativos<br>
            Este es un correo automático, por favor no lo respondas.
        </div>
    </div>
</body>
</html>
